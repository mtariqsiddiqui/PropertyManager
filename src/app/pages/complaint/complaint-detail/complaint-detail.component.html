<div class="flex flex-col gap-6" *ngIf="complaint">
  <div class="flex items-center gap-4">
    <a [routerLink]="['/']" class="inline-flex items-center justify-center rounded-md text-sm font-medium h-10 w-10 bg-background text-foreground border border-input">
      <i-lucide [img]="lucidearrowleft" class="h-4 w-4"></i-lucide>
      <span class="sr-only">Back</span>
    </a>
    <h2 class="text-2xl font-bold tracking-tight">Complaint Details</h2>
  </div>

  <div class="grid gap-6 md:grid-cols-2">
    <div class="rounded-lg border bg-card text-card-foreground shadow-sm md:col-span-2">
      <div class="p-6">
        <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
          <div>
            <h3 class="text-xl font-semibold">{{ complaint.subject }}</h3>
            <p class="text-sm text-muted-foreground">Ticket ID: {{ complaint.id }}</p>
          </div>
          <div class="flex flex-wrap gap-2">
                <span [ngClass]="getStatusClass(complaint.status)" class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold">
                  {{ getStatusText(complaint.status) }}
                </span>
            <span [ngClass]="getPriorityClass(complaint.priority)" class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold text-white">
                  {{ getPriorityText(complaint.priority) }}
                </span>
          </div>
        </div>
      </div>
      <div class="p-6 pt-0 grid gap-6">
        <div>
          <h4 class="mb-2 font-semibold">Description</h4>
          <p class="text-sm text-muted-foreground">{{ complaint.description }}</p>
        </div>

        <div *ngIf="complaint.hasImage">
          <h4 class="mb-2 font-semibold">Attached Images</h4>
          <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3">
            <div class="overflow-hidden rounded-md border">
              <img
                src="/placeholder.svg?height=300&width=400"
                alt="Complaint image"
                class="h-[200px] w-full object-cover"
              />
            </div>
          </div>
        </div>

        <div class="flex justify-end gap-2">
          <button class="inline-flex items-center justify-center rounded-md text-sm font-medium h-10 px-4 py-2 bg-background text-foreground border border-input">
            Update Status
          </button>
          <a [routerLink]="['/work-orders', complaint.id]" class="inline-flex items-center justify-center rounded-md text-sm font-medium h-10 px-4 py-2 bg-primary text-primary-foreground">
            Create Work Order
          </a>
        </div>
      </div>
    </div>

    <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
      <div class="p-6">
        <h3 class="text-lg font-semibold">Property Information</h3>
      </div>
      <div class="p-6 pt-0 grid gap-4">
        <div class="flex items-center gap-3">
          <i class="lucide-map-pin h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Property</p>
            <p class="text-sm text-muted-foreground">{{ complaint.property }}</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <i class="lucide-map-pin h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Location</p>
            <p class="text-sm text-muted-foreground">{{ complaint.location }}</p>
          </div>
        </div>
        <hr class="border-t" />
        <div class="flex items-center gap-3">
          <i class="lucide-calendar h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Reported Date</p>
            <p class="text-sm text-muted-foreground">{{ complaint.date }}</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <i class="lucide-clock h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Reported Time</p>
            <p class="text-sm text-muted-foreground">{{ complaint.time }}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
      <div class="p-6">
        <h3 class="text-lg font-semibold">Reporter Information</h3>
      </div>
      <div class="p-6 pt-0 grid gap-4">
        <div class="flex items-center gap-3">
          <i class="lucide-user h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Name</p>
            <p class="text-sm text-muted-foreground">
              {{ complaint.reporter.name }} ({{ complaint.reporter.type }})
            </p>
          </div>
        </div>
        <hr class="border-t" />
        <div class="flex items-center gap-3">
          <i class="lucide-phone h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Phone</p>
            <p class="text-sm text-muted-foreground">{{ complaint.reporter.phone }}</p>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <i class="lucide-mail h-4 w-4 text-muted-foreground"></i>
          <div>
            <p class="text-sm font-medium">Email</p>
            <p class="text-sm text-muted-foreground">{{ complaint.reporter.email }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
